<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div style="width: 300px; height: 120px;">
    <div style="width: 250px; height: 80px; background-color: burlywood ">
        <h2 style="text-align: center"> Add New Product</h2>
        <p>
            <input id="productName" type="text" placeholder="New product">
            <button style="background-color: aqua" onclick="addProduct()">Add</button>
        </p>
        <h4> Display All Products </h4>
    </div>
</div>

<p id="displayTable"></p>

<script>
    arrProduct = [];
    display(arrProduct);

    function addProduct() {
        let productName = document.getElementById("productName").value;
        arrProduct.push(productName);
        console.log(arrProduct);
        display(arrProduct);
        document.getElementById("productName").value ="";
    }

    function display(arrProduct) {
        let stringTable = '';
        stringTable = '<table border="0" style="border-collapse: collapse">' +
            '<tr style="background-color: antiquewhite">' +
            '<td style="width: 600px; height: 25px; font-weight: bold; text-align: left" colspan="4">Product Name</td>' +
            '<td id="totalProduct" style="width: 100px; height: 25px; font-weight: bold; text-align: right">' + arrProduct.length + ' products</td>' +
            '</tr>';
        if (arrProduct.length != 0) {
            for (let j = 0; j < arrProduct.length; j++) {
                if (j%2 == 0){
                    stringTable += '<tr style="background-color: aliceblue">';
                }
                else {
                    stringTable += '<tr style="background-color: lightgrey">';
                }
                for (let i = 0; i < 5; i++) {
                    if (i == 0) {
                        stringTable += '<td style="width: 300px; height: 25px; text-align: left">' + arrProduct[j] + '</td>';
                    } else if (i == 1) {
                        stringTable += '<td style="width: 100px; height: 25px; text-align: center"><button style="background-color: greenyellow" onclick="editItem('+ j +')">Edit</button></td>';
                    } else if (i == 2) {
                        stringTable += '<td style="width: 100px; height: 25px;"></td>';
                    } else if (i == 3) {
                        stringTable += '<td style="width: 100px; height: 25px;text-align: center"><button style="background-color: greenyellow" onclick="deleteItem('+j+')">Delete</button></td>';
                    } else {
                        stringTable += '<td style="width: 100px; height: 25px;"></td>';
                    }
                }
                stringTable += '</tr>';
            }
        }
        stringTable += '</table>';
        document.getElementById("displayTable").innerHTML = stringTable;
    }


    function editItem(j) {
        newProduct = prompt("Nhập tên bạn muốn thay đổi");
        if (newProduct!==""){
            arrProduct[j] =newProduct;
        }
        else {
            alert("Bạn cần nhập vào một tên san phẩm mới!")
        }
        display(arrProduct);
    }

    function deleteItem(j) {
        if (confirm("Bạn muốn xóa sản phẩm: "+arrProduct[j])) {
            arrProduct.splice(j,1);
            display(arrProduct);
        }
    }
</script>
</body>
</html>